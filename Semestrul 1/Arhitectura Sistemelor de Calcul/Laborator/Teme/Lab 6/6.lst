     1                                  ; Se da un sir de cuvinte s. Sa se construiasca sirul de octeti d, astfel incat d sa contina pentru fiecare pozitie din s:
     2                                      ; - numarul de biti de 0, daca numarul este negativ
     3                                      ; - numarul de biti de 1, daca numarul este pozitiv
     4                                      
     5                                  ; Exemplu:
     6                                  ; s: -22, 145, -48, 127
     7                                  
     8                                  ; in binary:
     9                                  ; 1111111111101010, 10010001, 1111111111010000, 1111111
    10                                  
    11                                  ; R: d: 3, 3, 5, 7    
    12                                  bits 32
    13                                  global start
    14                                  
    15                                  extern exit
    16                                  import exit msvcrt.dll
    17                                  
    18                                  segment data use32 class=data
    19 00000000 EAFF9100D0FF7F00            s dw -22, 145, -48, 127
    20                                      len equ ($-s)/2
    21 00000008 00<rept>                    d times len db 0
    22 0000000C 1000                        saispe dw 16d
    23                                      
    24                                  segment code use32 class=code
    25                                      start:
    26 00000000 B904000000                      mov ecx, len            ; ECX = lungimea sirului s
    27 00000005 E33D                            jecxz final
    28 00000007 FC                              cld                             ; DF = 0
    29 00000008 BE[00000000]                    mov esi, s                ; ESI = offset-ul lui s
    30 0000000D BF[08000000]                    mov edi, d                ; EDI = offset-ul lui d
    31                                      
    32                                      repeta:
    33 00000012 51                                  push ecx    
    34 00000013 66AD                                lodsw                   ; AX = DS:ESI
    35 00000015 66BB0000                            mov bx, 0               
    36 00000019 B910000000                          mov ecx, 16d      ; ECX = 16 (deoarece facem 16 decrementari)
    37 0000001E 6689C2                              mov dx, ax          ; facem o copie la AX in DX
    38                                              
    39                                              numara
    39          ******************       warning: label alone on a line without a colon might be in error [-w+orphan-labels]
    40 00000021 66D1E8                                  shr ax, 1            ; shift-right pe pentru a ne da carry-flag
    41 00000024 6683D300                                adc bx, 0           ; adaugam carryflag-ul in BX
    42 00000028 E2F7                                loop numara   
    43                                              
    44 0000002A 6683FA00                            cmp dx, 0               ; comparam DX cu 0 
    45 0000002E 790D                                jns pozitiv                ; daca valoarea din DX este pozitiva facem jump la eticheta "pozitiv"
    46                                              
    47 00000030 668B15[0C000000]                    mov dx, [saispe]    ; facem o scadere din 16 pentru a afla numarul de zerouri
    48 00000037 6629DA                              sub dx, bx
    49 0000003A 6689D3                              mov bx, dx
    50                                              
    51                                              pozitiv:
    52                                              
    53 0000003D 6689D8                              mov ax, bx
    54 00000040 AA                                  stosb                   ; ES : EDI = AX
    55 00000041 59                                  pop ecx      
    56                                          
    57 00000042 E2CE                            loop repeta
    58                                          
    59                                          final:
    60                                          
    61 00000044 6A00                            push dword 0
    62 00000046 FF15[00000000]                  call [exit]
