     1                                  ;Se da un sir de dublucuvinte. 
     2                                  ;Sa se obtina sirul format din octetii inferiori ai cuvintelor superioare 
     3                                  ;din elementele sirului de dublucuvinte care sunt palindrom in scrierea in baza 10.
     4                                  bits 32
     5                                  
     6                                  global start        
     7                                  
     8                                  extern exit               
     9                                  import exit msvcrt.dll    
    10                                  
    11                                  segment data use32 class=data
    12 00000000 785634124D3C2C1A76-         s dd 12345678h, 1A2C3C4Dh, 98FCDC76h
    12 00000009 DCFC98             
    13                                      len equ ($-s)/4 ; lungimea sirului s 
    14 0000000C 00<rept>                    d times len db 0
    15 0000000F 0A                          zece db 10
    16 00000010 16                          base db 16h
    17                                  
    18                                  
    19                                  segment code use32 class=code
    20                                      start:
    21 00000000 B903000000                      mov ECX, len
    22 00000005 E347                            jecxz sfarsit
    23 00000007 FC                              cld ; DF=0
    24 00000008 BE[00000000]                    mov ESI, s 
    25 0000000D BF[0C000000]                    mov EDI, d 
    26                                          
    27                                      repeta:
    28                                         
    29 00000012 66AD                            lodsw ; AX = word-ul inferior
    30 00000014 66AD                            lodsw ; AX = word-ul superior 
    31                                          
    32 00000016 B400                            mov AH, 0 
    33                                              
    34 00000018 50                              push EAX
    35 00000019 66BB0000                        mov BX, 0
    36 0000001D 66BA0000                        mov DX, 0
    37                                          construire:
    38                                              ;ogl=ogl*10+(nr%10)
    39                                              ;AX=nr 
    40 00000021 F635[0F000000]                      div byte [zece] 
    41 00000027 88C2                                mov DL, AL 
    42 00000029 88D8                                mov AL, BL 
    43 0000002B 88E3                                mov BL, AH 
    44 0000002D B400                                mov AH, 0 ; zerorizez= sterg restul 
    45 0000002F F625[0F000000]                      mul byte [zece] ;AX=AL*10=ogl*10
    46 00000035 6601C3                              add BX, AX ;BX=ogl*10+(nr%10)
    47                                      
    48 00000038 6689D0                              mov AX, DX 
    49 0000003B 66BA0000                            mov DX,0 
    50 0000003F 6639D0                              cmp AX,DX 
    51 00000042 7402                                je verificare 
    52 00000044 EBDB                                jmp construire ; mai avem cifre in numar
    53                                          
    54                                          verificare:
    55 00000046 58                                  pop EAX ; nr initial a fost stocat in stiva 
    56 00000047 38D8                                cmp AL,BL
    57 00000049 7501                                jne nuepalindrom ; nu e palindrom 
    58 0000004B AA                                  stosb 
    59                                              
    60                                              nuepalindrom:           
    61                                          
    62 0000004C E2C4                        loop repeta
    63                                          
    64                                      sfarsit:
    65                                  
    66 0000004E 6A00                            push dword 0       
    67 00000050 FF15[00000000]                  call [exit]   
