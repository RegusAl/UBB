     1                                  ; Se da numele unui fisier si un numar pe cuvant scris in memorie. Se considera numarul in reprezentarea fara semn. Sa se scrie cifrele zecimale ale acestui numar ca text in fisier, fiecare cifra pe o linie separata
     2                                  bits 32
     3                                  global start
     4                                  
     5                                  extern exit, fopen, fprintf, fclose, printf
     6                                  import exit msvcrt.dll
     7                                  import fopen msvcrt.dll
     8                                  import fprintf msvcrt.dll
     9                                  import fclose msvcrt.dll
    10                                  import printf msvcrt.dll
    11                                  
    12                                  segment data use32 class=data
    13 00000000 6669736965722E7478-         nume_fisier db "fisier.txt", 0
    13 00000009 7400               
    14 0000000B 7700                        mod_acces db "w", 0
    15 0000000D FFFFFFFF                    descriptor_fisier dd -1
    16 00000011 2C05                        numar dw 1324
    17 00000013 00000000                    cifra dd 0
    18 00000017 256420202020202020-         format_dec db "%d            ", 0
    18 00000020 202020202000       
    19 00000026 0A                          zece db 10
    20                                      
    21                                  segment code use32 class=code
    22                                      start:
    23                                      
    24                                          ; deschidere fisier 
    25 00000000 68[0B000000]                    push dword mod_acces
    26 00000005 68[00000000]                    push dword nume_fisier
    27 0000000A FF15[00000000]                  call [fopen]
    28 00000010 83C408                          add esp, 2*4
    29                                          
    30                                          ; verificare fisier
    31 00000013 A3[0D000000]                    mov [descriptor_fisier], eax
    32 00000018 83F800                          cmp eax, 0
    33 0000001B 7451                            je final
    34                                          
    35                                          repeta:
    36                                          
    37 0000001D 66BA0000                            mov dx, 0
    38 00000021 66A1[11000000]                      mov ax, [numar]
    39 00000027 66F735[26000000]                    div word [zece]
    40 0000002E 668915[13000000]                    mov [cifra], dx
    41 00000035 66A3[11000000]                      mov [numar], ax
    42                                              
    43 0000003B FF35[13000000]                      push dword [cifra]
    44 00000041 68[17000000]                        push dword format_dec
    45 00000046 FF35[0D000000]                      push dword [descriptor_fisier]
    46 0000004C FF15[00000000]                      call [fprintf]
    47 00000052 83C408                              add esp, 2*4
    48                                              
    49 00000055 66833D[11000000]00              cmp word [numar], 0
    50 0000005D 75BE                            jne repeta
    51                                          
    52                                          peste:
    53                                          ; inchidere fisier
    54 0000005F FF35[0D000000]                  push dword [descriptor_fisier]
    55 00000065 FF15[00000000]                  call [fclose]
    56 0000006B 83C404                          add esp, 1*4
    57                                      
    58                                      final:
    59                                      
    60 0000006E 6A00                        push dword 0
    61 00000070 FF15[00000000]              call [exit]
